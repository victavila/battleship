(()=>{"use strict";const e=e=>{const t=new Array(e).fill(1);return{length:e,positions:t,hit:e=>{t[e]=0},isSunk:()=>{let r=!1;return t.filter((e=>0===e)).length===e&&(r=!0),r}}},t=()=>{const e=Array(10).fill("").map((()=>Array(10).fill("")));return{board:e,placeShip:(t,r,l)=>{if(((t,r,l)=>{for(let a=t;a<l.length+t;a+=1)if(""!==e[r][a])return!1;return!0})(t,r,l)&&((e,t,r)=>!(e+r.length>9||t>9))(t,r,l))for(let a=t;a<l.length+t;a+=1)e[r][a]=l.length},receiveAttack:(t,r)=>""!==e[r][t]?(e[r][t]="hit",!0):(e[r][t]="miss",!1)}},r=e=>({name:e,attack:(e,t,r)=>e>9||t>9?null:""===r[t][e]?[e,t]:null,randomAttack:e=>{const t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());return""===e[r][t]?[t,r]:null}}),l=document.querySelector(".player-board"),a=document.querySelector(".computer-board"),c=document.querySelector(".player-board"),o=(document.querySelector(".computer-board"),c.children),n=(e,t)=>{let r=0;const l=[2,3,4,5];for(let t=0;t<10;t+=1)for(let a=0;a<10;a+=1)l.includes(e[t][a])?o[r].classList.add("purple"):"hit"===e[t][a]?o[r].textContent="x":"miss"===e[t][a]&&(o[r].textContent="o"),r+=1};(()=>{r("player1"),r("computer");const c=e(5),o=e(4),i=e(3),p=e(3),d=e(2);[].push(c,o,i,p,d);const s=e(5),u=e(4),h=e(3),m=e(3),S=e(2);[].push(s,u,h,m,S);const f=t(),b=t();(()=>{for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1){const r=document.createElement("div");r.setAttribute("data-id",`P-${e}${t}`),r.classList.add("p-square"),l.appendChild(r);const c=document.createElement("div");c.setAttribute("data-id",`C-${e}${t}`),c.classList.add("c-square"),a.appendChild(c)}})(),f.placeShip(0,0,c),f.placeShip(0,2,o),f.placeShip(0,4,i),f.placeShip(0,6,p),f.placeShip(0,8,d),b.placeShip(0,0,s),b.placeShip(0,2,u),b.placeShip(0,4,h),b.placeShip(0,6,m),b.placeShip(0,8,S),n(f.board,b.board);let y=!0;for(;y;)f.receiveAttack(0,0),f.receiveAttack(0,1),n(f.board,b.board),y=!1})()})();