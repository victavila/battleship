(()=>{"use strict";const e=(e,t)=>{const r=new Array(e).fill(1);return{length:e,name:t,positions:r,hit:e=>{r[e]=0},isSunk:()=>{let t=!1;return r.filter((e=>0===e)).length===e&&(t=!0),t}}},t=()=>{const e=Array(10).fill("").map((()=>Array(10).fill("")));return{board:e,placeShip:(t,r,a)=>{if(((t,r,a)=>{for(let l=t;l<a.length+t;l+=1)if(""!==e[r][l])return!1;return!0})(t,r,a)&&((e,t,r)=>!(e+r.length>9||t>9))(t,r,a))for(let l=t;l<a.length+t;l+=1)e[r][l]=a.name},receiveAttack:(t,r)=>""!==e[r][t]?(e[r][t]="hit",!0):(e[r][t]="miss",!1)}},r=e=>({name:e,attack:(e,t,r)=>e>9||t>9?null:""===r[t][e]?[e,t]:null,randomAttack:e=>{const t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());return""===e[r][t]?[t,r]:null}}),a=document.querySelector(".player-board"),l=document.querySelector(".computer-board"),o=document.querySelector(".player-board"),n=(document.querySelector(".computer-board"),o.children),c=(e,t)=>{let r=0;const a=["Carrier","Battleship","Destroyer","Submarine","Patrol"];for(let t=0;t<10;t+=1)for(let l=0;l<10;l+=1)a.includes(e[t][l])?n[r].classList.add("purple"):"hit"===e[t][l]?n[r].textContent="x":"miss"===e[t][l]&&(n[r].textContent="o"),r+=1};(()=>{r("player1"),r("computer");const o=e(5,"Carrier"),n=e(4,"Battleship"),i=e(3,"Destroyer"),p=e(3,"Submarine"),s=e(2,"Patrol");[].push(o,n,i,p,s);const d=e(5,"Carrier"),u=e(4,"Battleship"),h=e(3,"Destroyer"),m=e(3,"Submarine"),S=e(2,"Patrol");[].push(d,u,h,m,S);const f=t(),b=t();(()=>{for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1){const r=document.createElement("div");r.setAttribute("data-id",`P-${e}${t}`),r.classList.add("p-square"),a.appendChild(r);const o=document.createElement("div");o.setAttribute("data-id",`C-${e}${t}`),o.classList.add("c-square"),l.appendChild(o)}})(),f.placeShip(0,0,o),f.placeShip(0,2,n),f.placeShip(0,4,i),f.placeShip(0,6,p),f.placeShip(0,8,s),b.placeShip(0,0,d),b.placeShip(0,2,u),b.placeShip(0,4,h),b.placeShip(0,6,m),b.placeShip(0,8,S),c(f.board,b.board);let y=!0;for(;y;)f.receiveAttack(0,0),f.receiveAttack(0,1),c(f.board,b.board),y=!1})()})();